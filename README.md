# Генератор описаний товаров

Автоматический генератор SEO-оптимизированных описаний товаров с интеграцией WooCommerce.

## Возможности

- Автоматическая генерация HTML-описаний товаров для интернет-магазинов
- Использование категорийных шаблонов для адаптации под разные типы товаров
- Автоматическое определение категории товара по названию
- Интеграция с WooCommerce API для прямой загрузки описаний на сайт
- Пакетная обработка списков товаров
- Автоматический поиск ID товаров в WooCommerce по названию

## Установка

### Требования

- Node.js 14+ (рекомендуется 16+)
- Доступ к API WooCommerce (для функций загрузки на сайт)

### Шаги установки

1. Клонировать репозиторий:
```bash
git clone https://github.com/Vostos007/product-description-generator.git
cd product-description-generator
```

2. Установить зависимости:
```bash
npm install
```

3. Создать файл `.env`:
```bash
cp .env.example .env
```

4. Настроить параметры в файле `.env`:
```
WOOCOMMERCE_URL=https://your-shop-url.com
WOOCOMMERCE_KEY=ck_your_consumer_key_here
WOOCOMMERCE_SECRET=cs_your_consumer_secret_here
```

## Использование

### Генерация описания для одного товара

```bash
node generate_for_product.js "Название товара" [--force] [--woo [ID]]
```

Параметры:
- `"Название товара"` - точное название товара для генерации описания
- `--force` - перезаписать существующее описание (если оно уже есть)
- `--woo` - загрузить сгенерированное описание в WooCommerce
- `ID` - опциональный ID товара в WooCommerce (если не указан, будет произведен поиск по названию)

Пример:
```bash
node generate_for_product.js "Drops Air" --force --woo
```

### Пакетная генерация для списка товаров

1. Создайте файл `product_list.txt` со списком товаров (по одному на строку)
2. Запустите скрипт пакетной обработки:

```bash
node generate_batch.js [--force] [--woo]
```

Параметры:
- `--force` - перезаписать существующие описания
- `--woo` - загрузить сгенерированные описания в WooCommerce
- `--yes` - пропустить запрос подтверждения

### Поиск ID товара в WooCommerce

```bash
node find_product_id.js "Название товара"
```

### Прямое обновление описания в WooCommerce

```bash
node update_woo_product.js "Название товара" --id 1234
```

## Структура проекта

- `generate_for_product.js` - скрипт для генерации описания одного товара
- `generate_batch.js` - скрипт для пакетной обработки списка товаров
- `generate_single_description.js` - основной модуль генерации описаний
- `semanticCore.js` - модуль работы с семантическим ядром
- `woocommerceClient.js` - модуль интеграции с WooCommerce API
- `find_product_id.js` - скрипт для поиска ID товаров в WooCommerce
- `update_woo_product.js` - скрипт для обновления описаний в WooCommerce
- `data/templates/` - шаблоны для разных категорий товаров
- `data/output/` - сгенерированные HTML описания
- `data/semantic_core_draft.json` - семантическое ядро с категориями и ключевыми словами

## Настройка WooCommerce API

Для работы с WooCommerce API необходимо создать ключи доступа. 
Подробная инструкция находится в файле [README_WOOCOMMERCE.md](README_WOOCOMMERCE.md).

## Шаблоны описаний

В директории `data/templates/` находятся шаблоны для разных категорий товаров:
- `yarn_template.txt` - для пряжи
- `needles_template.txt` - для спиц
- `hooks_template.txt` - для крючков
- `accessories_template.txt` - для аксессуаров
- `tools_template.txt` - для инструментов

Каждый шаблон содержит HTML-структуру с плейсхолдерами, которые заменяются на реальные данные в процессе генерации.

## Быстрое восстановление

Если вы случайно повредили файлы проекта, есть два способа восстановления:

### 1. Использование restore.sh скрипта

В репозитории есть специальный скрипт для быстрого восстановления. Скачайте его и выполните:

```bash
# Скачать скрипт восстановления
curl -O https://raw.githubusercontent.com/Vostos007/product-description-generator/main/restore.sh

# Сделать скрипт исполняемым
chmod +x restore.sh

# Запустить скрипт
./restore.sh
```

Скрипт автоматически:
- Клонирует репозиторий (при необходимости)
- Установит зависимости
- Настроит файл окружения

### 2. Ручное восстановление через Git

Если у вас уже есть репозиторий:

```bash
# Полное восстановление (удаляет локальные изменения)
git reset --hard origin/main && git pull

# Безопасное восстановление (сохраняет локальные изменения)
git stash && git pull && git stash pop
```

## Устранение проблем

### Отсутствует соединение с WooCommerce API
1. Проверьте настройки в файле `.env`
2. Убедитесь, что URL магазина указан без слеша в конце
3. Проверьте, что API ключи имеют достаточные права (Read/Write)

### Описание не генерируется для конкретного товара
1. Проверьте, что товар правильно категоризируется
2. Убедитесь, что для его категории существует шаблон

## Лицензия

MIT 